library(devtools)
build("~/Documents/GitHub/barrierALK")
install("~/Documents/GitHub/barrierALK")
bb <- barrierALK(age ~ length,data=cag96)
library(roxygen2)
roxygenize()
roxygenize("~/Documents/GitHub/barrierALK")
build("~/Documents/GitHub/barrierALK")
install("~/Documents/GitHub/barrierALK")
bb <- barrierALK(age ~ length,data=cag96)
load("~/Dropbox/Apps/Texpad/Assessment of current 3Ps Cod Stock Assessment/crap.RData")
cag96 <- cag[cag$survey.year == "1996",]
cag <- campelen$raw.data$age.growth
cag96 <- cag[cag$survey.year == "1996",]
ff <- barrierALK:::interpret.salk("age~length",data=cag96)
ff <- barrierALK:::interpret.salk(age~length,data=cag96)
str(ff)
attr(ff,"ageV")
ff$X
ff$X
head(ff$data$X)
head(ff$data$X,n=20)
debug(barrierALK)
library(barrierALK)
debug(barrierALK)
barrierALK(age~length,data=cag96)
Q
roxygenize("~/Documents/GitHub/barrierALK")
library(roxygen2)
roxygenize("~/Documents/GitHub/barrierALK")
build("~/Documents/GitHub/barrierALK")
library(devtools)
build("~/Documents/GitHub/barrierALK")
install("~/Documents/GitHub/barrierALK")
roxygenize("~/Documents/GitHub/barrierALK")
build("~/Documents/GitHub/barrierALK")
install("~/Documents/GitHub/barrierALK")
document()
build("~/Documents/GitHub/barrierALK")
install("~/Documents/GitHub/barrierALK")
document()
document()
build("~/Documents/GitHub/barrierALK")
install("~/Documents/GitHub/barrierALK")
useDynLib(spatialBarrier)
build("~/Documents/GitHub/barrierALK")
install("~/Documents/GitHub/barrierALK")
document()
roxygenize()
roxygenize("~/Documents/GitHub/barrierALK")
build("~/Documents/GitHub/barrierALK")
install("~/Documents/GitHub/barrierALK")
barrierALK(age~length,data=cag96)
library(barrierALK)
cag <- campelen$raw.data$age.growth
load("~/Dropbox/Apps/Texpad/Assessment of current 3Ps Cod Stock Assessment/crap.RData")
cag <- campelen$raw.data$age.growth
cag96 <- cag[cag$survey.year == "1996",]
debug(barrierALK)
head(cag96)
debug(barrierALK)
qq <- barrierALK(age ~length, data=cag96)
dyn.load(dynlib("~/Documents/GitHub/barrierALK/src/spatialBarrier"))
dyn.load(dyn.lib("~/Documents/GitHub/barrierALK/src/spatialBarrier"))
dyn.load("~/Documents/GitHub/barrierALK/src/spatialBarrier")
dyn.load("~/Documents/GitHub/barrierALK/src/spatialBarrier.so")
qq <- barrierALK(age ~length, data=cag96)
load("~/Dropbox/Apps/Texpad/Assessment of current 3Ps Cod Stock Assessment/crap.RData")
cag <- campelen$raw.data$age.growth
cag96 <- cag[cag$survey.year == "1996",]
ddd <- barrierALK:::interpret.salk(age ~ length,data=cag96)
str(ddd)
ddd$y
ddd$data$y
ddd$data
str(ddd$data)
str(ddd$parm)
tt = TMB::MakeADFun(ddd$data,ddd$parm,DLL="spatialBarrier")
TMB::compile("~/Documents/GitHub/barrierALK/src/spatialBarrier.cpp")
tt = TMB::MakeADFun(ddd$data,ddd$parm,DLL="spatialBarrier")
dyn.unload("spatialBarrier")
dyn.unload("../src/spatialBarrier")
dyn.load("../src/spatialBarrier")
dyn.load("../src/spatialBarrier",local=FALSE)
setwd("~/Documents/GitHub/barrierALK/src/")
dyn.load("spatialBarrier")
dyn.load("spatialBarrier.so")
tt = TMB::MakeADFun(ddd$data,ddd$parm,DLL="spatialBarrier")
load("~/Dropbox/Apps/Texpad/Assessment of current 3Ps Cod Stock Assessment/crap.RData")
cag <- campelen$raw.data$age.growth
cag96 <- cag[cag$survey.year == "1996" & cag$age <= 8,c("age","length")]
head(cag96)
length(cag96_
length(cag96)
length(cag96)
nrow(cag96)
barrierALK(age~length,data=cag96)
TMB::compile("~/Documents/GitHub/barrierALK/src/spatialBarrier.cpp")
dyn.load("spatialBarrier.so")
dyn.load("../src/spatialBarrier.so")
ddd <- barrierALK:::interpret.salk(age ~ length,data=cag96)
str(ddd)
tt = TMB::MakeADFun(ddd$data,ddd$parm,DLL="spatialBarrier")
load("~/Dropbox/Apps/Texpad/Assessment of current 3Ps Cod Stock Assessment/crap.RData")
cag <- campelen$raw.data$age.growth
cag96 <- cag[cag$survey.year == "1996",c("age","length")]
ddd <- barrierALK:::interpret.salk(age ~ length,data=cag96)
str(ddd)
colnames(ddd$data$X)
ddd <- barrierALK:::interpret.salk(age ~ as.factor(length),data=cag96)
head(cag96)
cag96$length <- as.factor(length)
cag96$length <- as.factor(cag$length)
cag96$length <- as.factor(cag96$length)
ddd <- barrierALK:::interpret.salk(age ~ length,data=cag96)
str(ddd)
library(sALK(
)
)
library(sALK)
build("~/sALK")
library(devtools)
build("~/sALK")
install("~/sALK")
library(sALK)
age
str(cag96)
cag96 <- cag[cag$survey.year == "1996",c("age","length")]
cag96$age <- as.factor(age)
cag96$age <- as.factor(cag96$age)
head(cag96)
library(VGAM)
vgam(age ~ length,family=sratio(),data=cag96)
cag96$length + rnorm(nrow(cag96))
cag96$length cag96$length + rnorm(nrow(cag96))
cag96$length <- cag96$length + rnorm(nrow(cag96))
ddd <- barrierALK:::interpret.salk(age ~ length,data=cag96)
tt = TMB::MakeADFun(ddd$data,ddd$parm,DLL="spatialBarrier")
dyn.load("spatialBarrier.so")
dyn.load("../src/spatialBarrier.so")
tt = TMB::MakeADFun(ddd$data,ddd$parm,DLL="spatialBarrier")
tmbB
str(ddd)
str(ddd)
head(cag96)
nrow(cag96)
str(ddd)
?logLik
?BIC
library(glm)
example(glm)
print.glm
basic$call
example(glm)
logLik(fs)
logLik(fS)
-10.51/3
fS$contrasts
basic$opt$par
grep("beta",names(basic$opt$par))
tt <- grep("beta",names(basic$opt$par))
names(basic$opt$par)[tt]
basic$obj$X
names(basic$obj)
library(devtools)
build("~/Documents/GitHub/barrierALK")
build("~/Documents/GitHub/barrierALK")
install("~/Documents/GitHub/barrierALK")
19
build("~/Documents/GitHub/barrierALK")
install("~/Documents/GitHub/barrierALK")
19
basic
class(basic)
print.barrierALK(basic)
build("~/Documents/GitHub/barrierALK")
build("~/Documents/GitHub/barrierALK")
install("~/Documents/GitHub/barrierALK")
19
library(roxygen2)
roxygenize()
roxygenize("~/Documents/GitHub/barrierALK")
build("~/Documents/GitHub/barrierALK")
install("~/Documents/GitHub/barrierALK")
19
basic
attr(basic,"call")
basic
basic
predict(basic)
predict(basic)
debug(predict)
predict(basic)
pred
rep
names(rep)
dim(rep$preds)
Q
build("~/Documents/GitHub/barrierALK")
install("~/Documents/GitHub/barrierALK")Ëœ
install("~/Documents/GitHub/barrierALK")
18
n
library(roxygen2)
roxygenize("~/Documents/GitHub/barrierALK")
build("~/Documents/GitHub/barrierALK")
library(devtools)
build("~/Documents/GitHub/barrierALK")
install("~/Documents/GitHub/barrierALK")
basic
summary(basic)
build("~/Documents/GitHub/barrierALK")
build("~/Documents/GitHub/barrierALK")
install("~/Documents/GitHub/barrierALK")
basic
summary(basic)
n
TMB::sdreport(basic$obj)
debug(summary)
summary(basic)
Q
build("~/Documents/GitHub/barrierALK")
library(devtools)
build("~/Documents/GitHub/barrierALK")
install("~/Documents/GitHub/barrierALK")
summary(basic)
undebug(summary)
2
n
summary(largerRSA)
summary(basic)
basic
largerRSA
AIC
222/60
largerRSA
build("~/Documents/GitHub/barrierALK")
library(devtools)
build("~/Documents/GitHub/barrierALK")
build("~/Documents/GitHub/barrierALK")
install("~/Documents/GitHub/barrierALK")
library(roxygen2)
roxygenize("~/Documents/GitHub/barrierALK")
build("~/Documents/GitHub/barrierALK")
install("~/Documents/GitHub/barrierALK")
largerRSA
anova(largerRSA)
n
example(binomial)
example(glm)
library(rms)
example(lrs)
example(lrm)
stats:::residuals.glm
?residuals
x <- rnorm(1000)
y <- rbinom(1000,1,plogis(0.3*x))
y
te <- glm(y ~ x -1,family="binomial")
te
x <- rnorm(10000)
y <- rbinom(10000,1,plogis(0.3*x +4))
te <- glm(y ~ x,family="binomial")
te
residuals(te)
residuals(te,type="pearson"))
residuals(te,type="pearson")
residuals(te,type="deviance")
residuals(te)
stats:::residuals.glm
te$y
stats:::residuals.glm
te$residuals
debug(residuals)
residuals(te,type="pearson")
mu
predict(te,type="link")
predict(te,type="response")
y- predict(te,type="response")
pi = predict(te,type="response")
bottom = sqrt(pi*(1-pi))
bottom
(y-pi)/bottom
myp = (y-pi)/bottom
residuals(te,type="pearson")
undebug(residuals)
theirp <- undebug(residuals)
theirp <- residuals(te,type="pearson")
all.equal(myp,theirp)
deviance(te)
deviance
stats:::deviance
stats:::deviance.glm
te$deviance
logLik(te)
824.5893*2
build("~/Documents/GitHub/barrierALK")
library(devtools)
build("~/Documents/GitHub/barrierALK")
build("~/Documents/GitHub/barrierALK")
install("~/Documents/GitHub/barrierALK")
build("~/Documents/GitHub/barrierALK")
install("~/Documents/GitHub/barrierALK")
build("~/Documents/GitHub/barrierALK")
install("~/Documents/GitHub/barrierALK")
ff
ff
residual(ff)
residuala(ff)
residuals(ff)
residuals(ff,type="pearson")
residuals(ff,type="deviance")
dumb
ff
rep <- dumb$obj$report()
names(rep)
rep$pearres
all.equal(rep$pearres,residuals(ff,type="pearson"))
plot(rep$pearres)
plot(residuals(ff,type="pearson"))
all.equal(rep$devres,residuals(ff,type="deviance"))
plot(residuals(ff,type="deviance"))
plot(rep$devres)
ls()
library(TMB)
sdreport(dumb$obj)
as.list(sdreport,"Est")
sdr <- sdreport(dumb$obj)
sdr
as.list(sdr,"Est")
dumb
names(dumb$obj$report())
summary(dumb)
dumb
library(statmod)
install.packages(statmod)
install.packages("statmod")
library(statmod)
qres
qres.binomial
qres.binom
build("~/Documents/GitHub/barrierALK")
build("~/Documents/GitHub/barrierALK")
library(roxygen2)
roxygenize("~/Documents/GitHub/barrierALK")
build("~/Documents/GitHub/barrierALK")
install("~/Documents/GitHub/barrierALK")
library(barrierALK)
residuals(dumb)
residuals(dumb,type="RQR")
res <- resid(dumb,type="RQR")
plot(res)
qqnorm(res)
dumb$age
f <- predict(dumb)
f
plot(res,dumb$age)
f
f <- cbind(rep(0,nrow(f)),f)
f
f[,dumb$age-1]
dim(f[,dumb$age-1])
dumb$age-1
t(f)
t(f)[age-1,]
t(f)[,age-1]
apply(f,1,function(x) runif(n=1,min=x[age-1],max=x[age]))
warnings()
apply(f,1,function(x) x)
apply(f,1,function(x) x[age])
cc <- cumsum(f)
cc
cc <- apply(f,1,cumsum)
cc
cc <- sapply(f,1,cumsum)
cc <- sapply(f,cumsum)
cc
cc <- apply(f,1,cumsum)
cc
runif(100,min=0,max=0)
qres.binom
cc[age,]
length(dumb$age)
cc[,age]
cc[cbind(seq_along(age),age)]
t(cc)[cbind(seq_along(age),age)]
t(cc)
tt <- cbind(seq_along(age-1),age-1)
tt
age
t(cc)[cbind(seq_along(dumb$age),dumb$age)]
build("~/Documents/GitHub/barrierALK")
install("~/Documents/GitHub/barrierALK")
resid(dumb,type="RQR")
debug(residuals)
resid(dumb,type="RQR")
residuals(dumb,type="RQR")
head(cdf_
)
head(cdf)
head(age)
a
b
a-b
length(a)
length(b)
a = cdf[cbind(seq_along(age),age-1)]
a
b-a
length(a)
Q
cbind(seq_along(dumb$age),age-1)
cbind(seq_along(dumb$age),dumb$age-1)
build("~/Documents/GitHub/barrierALK")
install("~/Documents/GitHub/barrierALK")
resid(dumb,type="RQR")
residuals(dumb,type="RQR")
age
age-1
a
b
b-a
length(a)
cbind(seq_along(age),age-1)
length(cbind(seq_along(age),age-1))
nrow(cbind(seq_along(age),age-1))
ttt = (cbind(seq_along(age),age-1))
nrow(b)
b
b-ttt
b-cdf[ttt]
Q
build("~/Documents/GitHub/barrierALK")
install("~/Documents/GitHub/barrierALK")
resid(dumb,type="RQR")
ress <- resid(dumb,type="RQR")
plot(ress,dumb$age)
plot(ress)
qqnorm(ress)
head(simp)
simpFit
r <- resid(simpFit)
r
plot(r,simpFit$yrep)
plot(r,plogis(simpFit$rep$eta))
names(simpFit)
names(simpFit$rep)
build("~/Documents/GitHub/barrierALK")
build("~/Documents/GitHub/barrierALK")
install("~/Documents/GitHub/barrierALK")
names(simpFit$rep)
quit()
n
library(devtools)
build()
install()
library(TMB)
sessionInfo()
remove.packages("TMB")
quit()
n
library(devtools)
install()
install()
update.packages("sf")
remove.packages("sf")
install.packages("sf")
library(sf)
quit()
n
library(sf)
residuals(basic,type="PSR")
residuals.barrierALK(basic,type="PSR")
document()
library(devtools)
document()
install()
residuals(basic,type="PSR")
residuals.barrierALK(basic,type="PSR")
quit()
n
library(barrierALK)
residuals(basic)
plot(residuals(basic))
plot(residuals(basic,type="PSR"))
residuals(basic,type="PSR")
debug(residuals)
residuals(basic,type="PSR")
wha = residuals(basic,type="PSR")
wha
install()
library(devtools)
install()
wha = residuals(basic,type="PSR")
resids
plot(wha)
?st_sample
install_github("r-spatial/sf")
quit()
n
